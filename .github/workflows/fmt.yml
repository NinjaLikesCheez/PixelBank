name: ğŸ§¹ Format Rust


on: [push]
# TODO: When done testing, replace with
# on:
#   push:
#     main

env:
  CARGO_TERM_COLOR: always

jobs:
  Run-Cargo-Fmt:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ«£ Check out current branch
        uses: actions/checkout@v3
        with:
          ref: ${{ github.ref }}

      - name: ğŸ› ï¸ Setup Rust Toolchain
        uses: actions-rust-lang/setup-rust-toolchain@v1
        with:
          components: rustfmt

      - name: ğŸ§¹ Cargo Format
        working-directory: server
        run: cargo fmt

      - name: ğŸ’ Commit Version Change
        run: |
          git config user.name 'github-actions[bot]'
          git config user.email 'github-actions[bot]@github.com'

          git add .
          git commit -m "ğŸ¤– [Lint]"
          git push
